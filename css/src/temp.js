"use strict";var leonus={saveData:(e,t)=>{localStorage.setItem(e,JSON.stringify({time:Date.now(),data:t}))},loadData:(e,t)=>{let o=JSON.parse(localStorage.getItem(e));if(o){let e=Date.now()-o.time;if(e<60*t*1e3&&e>-1)return o.data}return 0},switchDarkMode:()=>{"light"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"object"===("undefined"==typeof FB?"undefined":_typeof(FB))&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout((function(){return window.disqusReset()}),200)},switchPostChart:()=>{let e="light"===document.documentElement.getAttribute("data-theme")?"#4c4948":"rgba(255,255,255,0.7)";if(document.getElementById("posts-chart")&&postsOption)try{let t=postsOption;t.title.textStyle.color=e,t.yAxis.nameTextStyle.color=e,t.xAxis.axisLabel.color=e,t.yAxis.axisLabel.color=e,t.xAxis.axisLine.lineStyle.color=e,t.yAxis.axisLine.lineStyle.color=e,t.series[0].markLine.data[0].label.color=e,postsChart.setOption(t)}catch(e){console.log(e)}if(document.getElementById("tags-chart")&&tagsOption)try{let t=tagsOption;t.title.textStyle.color=e,t.yAxis.nameTextStyle.color=e,t.xAxis.axisLabel.color=e,t.yAxis.axisLabel.color=e,t.xAxis.axisLine.lineStyle.color=e,t.yAxis.axisLine.lineStyle.color=e,t.series[0].markLine.data[0].label.color=e,tagsChart.setOption(t)}catch(e){console.log(e)}if(document.getElementById("categories-chart")&&categoriesOption)try{let t=categoriesOption;t.title.textStyle.color=e,t.legend.textStyle.color=e,t.legend.pageTextStyle.color=e,t.series[0].label.color=e,categoriesChart.setOption(t)}catch(e){console.log(e)}},randomLink:()=>{let e=leonus.loadData("links",30);if(e){let t=document.querySelectorAll("#friend-links-in-footer .footer-item");if(!t.length)return;for(let o=0;o<5;o++){let l=parseInt(Math.random()*e.length);t[o].innerText=e[l].name,t[o].href=e[l].link,e.splice(l,1)}}else fetch("/link.json").then((e=>e.json())).then((e=>{leonus.saveData("links",e.link_list),leonus.randomLink()}))},share:()=>{let e=window.location.origin+window.location.pathname;new ClipboardJS(".share",{text:function(){return"标题："+document.title+"\n链接："+e}}),btf.snackbarShow("本页链接已复制到剪切板，快去分享吧~")},loadBG:()=>{try{let e=leonus.loadData("blogbg",1440);e?leonus.changeBg(e,1):localStorage.removeItem("blogbg")}catch(e){localStorage.removeItem("blogbg")}},changeBg:(e,t)=>{let o=document.getElementById("web_bg");"#"==e.charAt(0)?(o.style.backgroundColor=e,o.style.backgroundImage="none"):o.style.backgroundImage=e,document.querySelectorAll(".nav_left *").forEach((e=>{e.style.color="white"})),document.querySelectorAll(".not-top-img .menus_item>a").forEach((e=>{e.style.color="white"})),document.querySelectorAll(".not-top-img #buttons a").forEach((e=>{e.style.color="white"})),t||(btf.snackbarShow("壁纸切换成功，将于一天后到期~"),leonus.saveData("blogbg",e))},randomBg:e=>{let t="https://api.leonus.cn/";t+="fj"==e?"fengjing":"mv"==e?"meinv":"dongman",fetch(t).then((e=>e.text())).then((e=>{leonus.changeBg("url('"+e+"')")})).catch()},sidebar:()=>{let e=document.querySelectorAll("#sidebar-menus .menus_items .site-page.group");e&&e.forEach((t=>{t.addEventListener("click",(()=>{e.forEach((e=>{e!=t&&e.classList.add("hide")}))}))}))},twIcon:()=>{document.querySelectorAll(".tk-content a").forEach((e=>{0==e.innerText.indexOf("@")&&(e.style.color="#f56c6cb3")}));let e=document.querySelectorAll(".tk-master .tk-main .tk-row .tk-meta span");e.length>0&&e.forEach((e=>{e.className="Leonus",e.innerHTML='<svg style="width:15px;height:15px;" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" class="is-badge icon"><path d="m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z" fill="#1da1f2"></path></svg>'}))},randomPost:()=>{let e=leonus.loadData("postLinks",30);if(e)for(;;){let t=e[Math.floor(Math.random()*e.length)];if(t!=location.pathname)return void pjax.loadUrl(t)}fetch("/baidusitemap.xml").then((e=>e.text())).then((e=>(new window.DOMParser).parseFromString(e,"text/xml"))).then((e=>{let t=e.querySelectorAll("url loc"),o=[];t.forEach((e=>{let t=e.innerHTML.split("/");o.push("/"+t[3]+"/"+t[4])})),leonus.saveData("postLinks",o),leonus.randomPost()}))},comCount:()=>{if(document.querySelector(".card_comment")){let e=leonus.loadData("comCount",10);if(e)return document.querySelectorAll(".card_comment").forEach((t=>{t.innerHTML=e})),void(document.querySelector("#aside-content")&&(document.querySelector(".card-info .card_comment").parentNode.title="累计评论数："+e));fetch("https://api.leonus.cn/comCount").then((e=>e.text())).then((e=>{leonus.saveData("comCount",e),leonus.comCount()})).catch()}},winbox:"",createWinbox:()=>{let e=document.createElement("div");document.body.appendChild(e),leonus.winbox=WinBox({id:"changeBgBox",index:999,title:"切换背景",x:"center",y:"center",minwidth:"300px",height:"60%",background:"var(--leonus-blue)",onmaximize:()=>{e.innerHTML="<style>body::-webkit-scrollbar {display: none;}div#changeBgBox {width: 100% !important;}</style>"},onrestore:()=>{e.innerHTML=""}}),leonus.winResize(),window.addEventListener("resize",leonus.winResize),leonus.winbox.body.innerHTML='\n    <style>\n        #changeBgBox .note {\n            font-size: 14px;\n            margin: 0 0 10px;\n            padding: 9px 0 9px 2.3rem;\n        }\n        #changeBgBox .note:not(.no-icon)::before,\n        #changeBgBox .note>.note-icon {\n            left: 0.5em;\n        }\n        #changeBgBox button {\n            padding:12px 0 !important;\n        }\n        #changeBgBox a.imgbox {\n            text-decoration: none !important;\n        }\n        #changeBgBox .toggle>.toggle-content {\n            margin: 0;\n        }\n    </style>\n    <div id="article-container" style="padding:10px;"><div class="note info flat"><p>点击对应样式即可切换背景。<br>相册图片也可以当作壁纸哦~ <a href="/wallpaper/">前往相册</a></p>\n    </div>\n    <div class="note pink icon-padding flat"><i class="note-icon fa-solid fa-image"></i><p>有效期为一天，到期切回默认壁纸。</p>\n    </div>\n\n    <p><button onclick="localStorage.removeItem(\'blogbg\');location.reload();" style="background:#5fcdff;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;"><i class="fa-solid fa-arrows-rotate"></i> 点我恢复默认背景</button></p>\n    \n    <h2 id="图片（电脑）"><a href="#图片（电脑）" class="headerlink" title="图片（电脑）"></a>图片（电脑）</h2>\n    <details class="toggle"><summary class="toggle-button" style="">查看电脑壁纸</summary>\n        <div class="toggle-content">\n            <div class="bgbox">\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)" class="imgbox" onclick="leonus.changeBg(\'url(https://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cn.bing.com/th?id=OHR.MontBlancPeak_ZH-CN0459151326_1920x1080.jpg)" class="imgbox" onclick="leonus.changeBg(\'url(https://cn.bing.com/th?id=OHR.MontBlancPeak_ZH-CN0459151326_1920x1080.jpg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cn.bing.com/th?id=OHR.MackenzieRiver_ZH-CN0214805768_1920x1080.jpg)" class="imgbox" onclick="leonus.changeBg(\'url(https://cn.bing.com/th?id=OHR.MackenzieRiver_ZH-CN0214805768_1920x1080.jpg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cn.bing.com/th?id=OHR.PorcupineBay_ZH-CN2252758146_1920x1080.jpg)" class="imgbox" onclick="leonus.changeBg(\'url(https://cn.bing.com/th?id=OHR.PorcupineBay_ZH-CN2252758146_1920x1080.jpg\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/04/2021040311203011.jpeg)" class="imgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/04/2021040311203011.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/11/2021110119420045.jpeg)" class="imgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/11/2021110119420045.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2020/12/2020121409235638.jpeg)" class="imgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2020/12/2020121409235638.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/11/2021111016525829.jpeg)" class="imgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/11/2021111016525829.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/11/2021111016580917.jpeg)" class="imgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/11/2021111016580917.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="imgbox" style="display:flex;justify-content: center;align-items: center; background:#ff4b1f;color:white;" onclick="leonus.randomBg(\'fj\')">随机风景背景</a>\n            <a href="javascript:;" rel="noopener external nofollow" class="imgbox" style="display:flex;justify-content: center;align-items: center; background:#16bffd;color:white;" onclick="leonus.randomBg(\'mv\')">随机美女背景</a>\n            <a href="javascript:;" rel="noopener external nofollow" class="imgbox" style="display:flex;justify-content: center;align-items: center; background:#ef5350;color:white;" onclick="leonus.randomBg(\'dm\')">随机动漫背景</a>\n            </div>\n        </div>\n    </details>\n\n    <h2 id="图片（手机）"><a href="#图片（手机）" class="headerlink" title="图片（手机）"></a>图片（手机）</h2>\n    <details class="toggle"><summary class="toggle-button" style="">查看手机壁纸</summary>\n        <div class="toggle-content">\n            <div class="bgbox">\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/05/2021053107390019.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/05/2021053107390019.jpeg\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/08/2021082418471438.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/08/2021082418471438.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/05/2021053111333664.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/05/2021053111333664.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/05/2021052509214162.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/05/2021052509214162.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/10/2021101113150626.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/10/2021101113150626.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/12/2021121119294157.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/12/2021121119294157.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2022/05/2022050211365433.jpg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2022/05/2022050211365433.jpg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/01/2021011114540487.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/01/2021011114540487.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/10/2021101112481925.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/10/2021101112481925.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2020/12/2020120109592351.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2020/12/2020120109592351.jpeg)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://img.vm.laomishuo.com/image/2021/08/2021081519313621.jpeg)" class="pimgbox" onclick="leonus.changeBg(\'url(https://img.vm.laomishuo.com/image/2021/08/2021081519313621.jpeg)\')"></a>\n            </div>\n        </div>\n    </details>\n\n    <h2 id="渐变色"><a href="#渐变色" class="headerlink" title="渐变色"></a>渐变色</h2>\n    <details class="toggle"><summary class="toggle-button" style="">查看渐变背景</summary>\n        <div class="toggle-content">\n            <div class="bgbox">\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #eecda3, #ef629f)" onclick="leonus.changeBg(\'linear-gradient(to right, #eecda3, #ef629f)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, rgb(255, 110, 127), rgb(191, 233, 255))" onclick="leonus.changeBg(\'linear-gradient(to right, #eecda3, #ef629f)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #ff4b1f, #1fddff)" onclick="leonus.changeBg(\'linear-gradient(to right, #ff4b1f, #1fddff)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, rgb(251, 215, 134), rgb(247, 121, 125))" onclick="leonus.changeBg(\'linear-gradient(to right, rgb(251, 215, 134), rgb(247, 121, 125))\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #16bffd, #cb3066)" onclick="leonus.changeBg(\'linear-gradient(to right, #16bffd, #cb3066)\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, rgb(192, 192, 170), rgb(28, 239, 255))" onclick="leonus.changeBg(\'linear-gradient(to right, rgb(192, 192, 170), rgb(28, 239, 255))\')"></a>\n            </div>\n        </div>\n    </details>\n\n    <h2 id="纯色"><a href="#纯色" class="headerlink" title="纯色"></a>纯色</h2>\n    <details class="toggle"><summary class="toggle-button" style="">查看纯色背景</summary>\n        <div class="toggle-content">\n            <div class="bgbox">\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #F4E2D8" onclick="leonus.changeBg(\'#F4E2D8\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #7D9D9C" onclick="leonus.changeBg(\'#7D9D9C\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #F2D7D9" onclick="leonus.changeBg(\'#F2D7D9\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #76BA99" onclick="leonus.changeBg(\'#76BA99\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #9FC088" onclick="leonus.changeBg(\'#9FC088\')"></a>\n            <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #CEAB93" onclick="leonus.changeBg(\'#CEAB93\')"></a>\n            </div>\n        </div>\n    </details>\n'},winResize:()=>{var e=document.documentElement.clientWidth;e<=768?leonus.winbox.resize(.95*e+"px","90%").move("center","center"):leonus.winbox.resize(.6*e+"px","70%").move("center","center")},toggleWinbox:()=>{document.querySelector("#changeBgBox")?leonus.winbox.toggleClass("hide"):leonus.createWinbox()},switchLine:()=>{if("b.leonus.cn"==location.host&&document.querySelectorAll(".menus_item:last-child ul li:first-child a").forEach((e=>{e.href="https://blog.leonus.cn/"})),leonus.loadData("line",60))return;let e=location.host;document.referrer.match(/b.leonus.cn/i)&&"blog.leonus.cn"==e&&setTimeout((()=>{btf.snackbarShow("欢迎使用主线路访问本站。"),leonus.saveData("line",1)}),500),document.referrer.match(/blog.leonus.cn/i)&&"b.leonus.cn"==e&&setTimeout((()=>{btf.snackbarShow("欢迎使用Vercel线路访问本站。"),leonus.saveData("line",1)}),500)},searchSize:()=>{if(document.body.clientWidth>768)return;let e=document.querySelector("#algolia-hits");e.addEventListener("DOMNodeInserted",(()=>{e.children[0].style.maxHeight=document.documentElement.clientHeight-210+"px"}))},linkCom:e=>{var t=document.querySelector(".el-textarea__inner");"bf"==e?(t.value="```yml\n",t.value+="- name: \n  link: \n  avatar: \n  descr: \n  theme_color: ",t.value+="\n```",t.setSelectionRange(15,15)):(t.value="站点名称：\n站点地址：\n头像链接：\n站点描述：\n站点主题色：",t.setSelectionRange(5,5)),t.focus()},owoBig:()=>{if(!document.getElementById("post-comment")||document.body.clientWidth<768)return;let e=1,t="",o=document.createElement("div"),l=document.querySelector("body");o.id="owo-big",l.appendChild(o),new MutationObserver((n=>{for(let a=0;a<n.length;a++){let i=n[a].addedNodes,s="";if(2==i.length&&"OwO-body"==i[1].className)s=i[1];else{if(1!=i.length||"tk-comment"!=i[0].className)continue;s=i[0]}s.onmouseover=n=>{e&&("OwO-body"==s.className&&"IMG"==n.target.tagName||"tk-owo-emotion"==n.target.className)&&(e=0,t=setTimeout((()=>{let e=3*n.path[0].clientHeight,t=3*n.path[0].clientWidth,a=n.x-n.offsetX-(t-n.path[0].clientWidth)/2,i=n.y-n.offsetY;a+t>l.clientWidth&&(a-=a+t-l.clientWidth+10),a<0&&(a=10),o.style.cssText=`display:flex; height:${e}px; width:${t}px; left:${a}px; top:${i}px;`,o.innerHTML=`<img src="${n.target.src}">`}),300))},s.onmouseout=()=>{o.style.display="none",e=1,clearTimeout(t)}}})).observe(document.getElementById("post-comment"),{subtree:!0,childList:!0})},weibo:()=>{let e="",t=document.getElementById("weibo-container");if(!t)return;let o={"爆":"weibo-boom","热":"weibo-hot","沸":"weibo-boil","新":"weibo-new","荐":"weibo-recommend","影":"weibo-jyzy","剧":"weibo-jyzy","综":"weibo-jyzy","音":"weibo-jyzy"},l=leonus.loadData("weibo",10);if(l){for(let t of l)e+='<div class="weibo-list-item"><div class="weibo-hotness '+o[t.hot||"荐"]+'">'+(t.hot||"荐")+'</div><span class="weibo-title"><a title="'+t.title+'"href="'+t.url+'" target="_blank" rel="external nofollow noreferrer">'+t.title+'</a></span><div class="weibo-num"><span>'+t.num+"</span></div></div>";t.innerHTML=e}else fetch("https://api.leonus.cn/weibo").then((e=>e.json())).then((e=>{if("0"==e)throw new Error("is not a invalid number");leonus.saveData("weibo",e),leonus.weibo()})).catch((()=>{document.getElementById("weibo-container").innerHTML="微博热搜获取失败"}))},linkIcon:()=>{document.querySelectorAll(".flink-list").forEach((e=>{let t=e.children,o=e.title;for(let e=0;e<t.length;e++)"undefined"!=t[e].title&&t[e].title?leonus.addIcon(t[e],t[e].title):leonus.addIcon(t[e],o)}))},addIcon:(e,t)=>{let o="";o="blue"==t?'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" class="is-badge icon"><path d="m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z" fill="#1da1f2"></path></svg>':"orange"==t?'<svg t="1658027717181" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="25920" width="200" height="200"><path d="M0 0h1024v1024H0V0z" fill="#202425" opacity=".01" p-id="25921"></path><path d="M989.866667 512c0 263.918933-213.947733 477.866667-477.866667 477.866667S34.133333 775.918933 34.133333 512 248.081067 34.133333 512 34.133333s477.866667 213.947733 477.866667 477.866667z" fill="#FF7744" p-id="25922"></path><path d="M787.114667 339.285333a51.2 51.2 0 0 1 0 72.362667l-307.2 307.2a51.2 51.2 0 0 1-72.362667 0l-170.666667-170.666667a51.2 51.2 0 0 1 72.362667-72.362666L443.733333 610.235733l271.018667-271.018666a51.2 51.2 0 0 1 72.362667 0z" fill="#FFFFFF" p-id="25923"></path></svg>':'<svg t="1658044373245" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4215" width="200" height="200"><path d="M511.4 511.9m-426.3 0a426.3 426.3 0 1 0 852.6 0 426.3 426.3 0 1 0-852.6 0Z" fill="#FF7A4E" p-id="4216"></path><path d="M511.4 958.2c-60.2 0-118.7-11.8-173.7-35.1-53.1-22.5-100.9-54.7-141.9-95.6-41-41-73.2-88.7-95.6-141.9-23.3-55-35.1-113.5-35.1-173.7s11.8-118.7 35.1-173.7c22.5-53.1 54.7-100.9 95.6-141.9 41-41 88.7-73.2 141.9-95.6 55-23.3 113.5-35.1 173.7-35.1 60.2 0 118.7 11.8 173.7 35.1 53.1 22.5 100.9 54.7 141.9 95.6 41 41 73.2 88.7 95.6 141.9 23.3 55 35.1 113.5 35.1 173.7s-11.7 118.7-35 173.7C900.2 738.8 868 786.5 827 827.5s-88.7 73.2-141.9 95.6c-55 23.3-113.4 35.1-173.7 35.1z m0-852.6c-224 0-406.3 182.3-406.3 406.3s182.3 406.3 406.3 406.3 406.3-182.3 406.3-406.3c0.1-224-182.2-406.3-406.3-406.3z" fill="#FF7A4E" p-id="4217"></path><path d="M531.9 250.5l58.4 118.4c4.4 8.9 12.9 15 22.6 16.5l130.6 19c24.7 3.6 34.5 33.9 16.7 51.3l-94.5 92.1c-7.1 6.9-10.3 16.9-8.7 26.6l22.3 130.1c4.2 24.6-21.6 43.3-43.6 31.7L519 674.8c-8.8-4.6-19.2-4.6-28 0l-116.8 61.4c-22.1 11.6-47.9-7.1-43.6-31.7l22.3-130.1c1.7-9.8-1.6-19.7-8.7-26.6l-94.5-92.1c-17.9-17.4-8-47.7 16.7-51.3l130.6-19c9.8-1.4 18.3-7.6 22.6-16.5L478 250.5c11-22.4 42.9-22.4 53.9 0z" fill="#FFFFFF" p-id="4218"></path></svg>',e.getElementsByClassName("flink-item-name")[0].innerHTML+=o},percent:()=>{let e=document.documentElement.scrollTop||window.pageYOffset,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,o=Math.round(e/t*100),l=document.querySelector("#go-up"),n=document.querySelector("#go-down");l&&(o<=95?(l.childNodes[0].style.display="none",l.childNodes[1].style.display=n.style.display="block",l.childNodes[1].innerHTML=o):(l.childNodes[1].style.display=n.style.display="none",l.childNodes[0].style.display="block"))},showLoading:()=>{document.querySelector("#loading-box").classList.remove("loaded")},hideLoading:()=>{document.querySelector("#loading-box").classList.add("loaded")},setRightSide:()=>{let e=document.getElementById("rightside"),t=document.querySelector("#rightSidePosition");""==e.className?(t.title="移至右侧",t.children[0].classList.remove("fa-caret-left"),t.children[0].classList.add("fa-caret-right"),localStorage.setItem("rightside","left")):"left"==e.className?(t.title="移至左侧",t.children[0].classList.add("fa-caret-left"),t.children[0].classList.remove("fa-caret-right"),localStorage.removeItem("rightside")):localStorage.removeItem("rightside"),e.classList.toggle("left")},loadRightSide:()=>{if("left"==localStorage.getItem("rightside")){document.getElementById("rightside").className="left";let e=document.querySelector("#rightSidePosition");e.title="移至右侧",e.children[0].classList.remove("fa-caret-left"),e.children[0].classList.add("fa-caret-right")}},moveAplayer:()=>{var e=document.querySelector(".aplayer"),t=t||window.event;let o=t.layerX,l=t.layerY;document.onmousemove=function(){var t=t||window.event,n=t.clientX,a=t.clientY;leonus.move(e,n-o,a-l)},document.onmouseup=function(){leonus.saveData("aplayerPos",[e.style.top,e.style.left]),document.onmousemove=null,document.onmouseup=null}},move:(e,t,o)=>{var l=document.documentElement.clientWidth||document.body.clientWidth,n=document.documentElement.clientHeight||document.body.clientHeight;t<=0&&(t=0),o<=0&&(o=0),t>(l-=e.offsetWidth)&&(t=l),o>(n-=e.offsetHeight)&&(o=n),e.style.top=o+"px",e.style.left=t+"px"},showAplayer:()=>{let e=$(".aplayer-info");e.animate({width:e[0].scrollWidth+"px",opacity:1},200,(()=>{e.css("width","fit-content")}))},hideAplayer:()=>{$(".aplayer-info").animate({width:"0px",opacity:0},200)},aplayerResize:()=>{let e=document.querySelector(".aplayer");e.offsetLeft+e.clientWidth>document.body.clientWidth&&(e.style.left=document.body.clientWidth-e.clientWidth+"px",leonus.saveData("aplayerPos",[e.style.top,e.style.left]))},initAplayer:()=>{let e=document.createElement("div");e.style.cssText="position: fixed;\n        z-index: 99;\n        left: -5%;\n        top: -5%;\n        width: 110%;\n        height: 110%;\n        background-color: transparent;";let t=leonus.loadData("aplayerPos",100),o=localStorage.getItem("AplayerFixed"),l=null,n=setInterval((()=>{document.querySelector(".aplayer")&&(t&&$(".aplayer").css({top:t[0],left:t[1]}),$(".aplayer").hover((()=>{clearTimeout(l),l=null,$(".aplayer-info")[0].clientWidth!=$(".aplayer-info")[0].scrollWidth&&leonus.showAplayer()}),(()=>{$(".aplayer-info").hasClass("full")||(l=setTimeout((()=>{leonus.hideAplayer()}),1e3))})),$(".aplayer").click((e=>{e.stopPropagation()})),$("body").click((()=>{$(".aplayer-info").hasClass("full")||leonus.hideAplayer()})),clearInterval(n),n=null)}),50),a=setInterval((()=>{document.querySelector(".aplayer-title")&&("1"==o&&($(".aplayer-info").addClass("full"),$("#fixed_width").addClass("fixed")),$(".aplayer-title").mousedown((()=>{document.body.appendChild(e),leonus.moveAplayer()})),$(".aplayer-title").mouseup((()=>{document.body.removeChild(e)})),$("#fixed_width").click((e=>{$(".aplayer-info").toggleClass("full"),$("#fixed_width").toggleClass("fixed"),$("#fixed_width").hasClass("fixed")?localStorage.setItem("AplayerFixed",1):localStorage.setItem("AplayerFixed",0)})),clearInterval(a),a=null)}),50)},talkTime:null,indexTalk:()=>{if(leonus.talkTime&&(clearInterval(leonus.talkTime),leonus.talkTime=null),!document.getElementById("bber-talk"))return;let e=leonus.loadData("talk",10);if(e){let t="";e.forEach(((e,o)=>{t+='<li class="item item-'+(o+1)+'">'+leonus.toText(e.content,'<i class="fa-solid fa-image"></i>')+"</li>"}));let o=document.querySelector("#bber-talk .talk-list");return o.innerHTML=t,void(leonus.talkTime=setInterval((()=>{o.appendChild(o.children[0])}),3e3))}fetch("https://talk.leonus.cn/getTalk?length=10").then((e=>e.json())).then((e=>{leonus.saveData("talk",e.talkList),leonus.indexTalk()}))},toText:(e,t)=>e=(e=e.replace(/<\/*br>|[\s\uFEFF\xA0]+/g,"")).replace(/<img(.*?)src=[\"|\']?(.*?)[\"|\']?(.*?)>|!\[(.*?)\]\((.*?)[jpg|png|gif]\)/g,t)};